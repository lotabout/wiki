<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Linux Tools</title>
    <link rel="Stylesheet" type="text/css" href="assets/css/style.css" />
    <link rel="stylesheet" type="text/css" href="assets/google-code-prettify/prettify.css" >
    <!-- add more style sheets and javascripts -->
</head>
<body>
<!--<body onload="prettyPrint()">-->
<nav>
    <a href="index.html">Index</a>
    <a href="about.html">About</a>
    <a href="https://lotabout.github.io">Blog</a>
    <a href="sitemap.html">SiteMap</a>
</nav>

<div class="content">

<h1 id="toc_1">Linux Tools</h1>
<div class="toc">
<ul>
<li><a href="#toc_1">Linux Tools</a>
<ul>
<li><a href="#toc_1.1">Screenshot</a>
<ul>
<li><a href="#toc_1.1.1">Use ffmpeg to record desktop</a>
<li><a href="#toc_1.1.2">Convert video to GIF</a>
<li><a href="#toc_1.1.3">show keystroks</a>
</ul>
</ul>
</ul>
</div>

<p>
Introducing some handy useful tools.
</p>

<h2 id="toc_1.1">Screenshot</h2>

<h3 id="toc_1.1.1">Use ffmpeg to record desktop</h3>
<p>
Example below:
</p>
<pre>
ffmpeg -video_size 1024x768 -framerate 25 -f x11grab -i :0.0+100,200 output.flv
</pre>
<p>
<code>-i</code> means from the top left corner(<code>x=0,y=0</code>) and capture a rectangle with
size (<code>width=100, height=200</code>).
</p>

<p>
However following the process above, the quality of the output is bad. we will
make use of the following command to generate screenshots.
</p>
<pre>
ffmpeg -f x11grab -s 1440x900 -i :0.0 -vcodec mpeg4 -b 9900000 -mbd 2 $1
</pre>

<p>
The key here is the buffer size <code>-b 990000</code>.
</p>

<p>
[1]: <a href="https://trac.ffmpeg.org/wiki/Capture/Desktop">https://trac.ffmpeg.org/wiki/Capture/Desktop</a>
</p>

<h3 id="toc_1.1.2">Convert video to GIF</h3>
<ol>
<li>
use <code>ffmpeg</code> directly
<pre>
ffmpeg -i input.flv -vf scale=320:-1 -t 10 -r 10 output.gif
</pre>
  The output is quite <em>bad</em>.

<li>
use <code>ffmpeg</code> to output frames and use <code>convert</code> from ImageMagick to convert
  them into gif output.
<pre>
mkdir frames
ffmpeg -i input -vf scale=320:-1 -r 10 frames/ffout%03d.png
convert -delay 5 -loop 0 frames/ffout*.png output.gif
</pre>
  <code>convert</code> willl provide a better looking output and provides a more obvious method to control the delay between frames.

</ol>

<p>
[1]: <a href="http://superuser.com/questions/556029/how-do-i-convert-a-video-to-gif-using-ffmpeg-with-reasonable-quality">http://superuser.com/questions/556029/how-do-i-convert-a-video-to-gif-using-ffmpeg-with-reasonable-quality</a>
</p>

<h3 id="toc_1.1.3">show keystroks</h3>

<ul>
<li>
<a href="http://code.google.com/p/key-mon/">key-mon</a>

<ul>
<li>
In addition to keyboards, it also shows mouse status.

<li>
May not fit when you typing fast.

</ul>
<li>
<a href="http://seminar.io/projects/screenkey/">screenkey</a>

<ul>
<li>
shows keyboard sequences.

</ul>
</ul>

</div>

<hr class="comment">
<section class="comment">
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'lotaboutvimwiki'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

   
</section>

<footer>
    声明，本文采用<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">CC BY-NC-SA 3.0</a>授权。
</footer>


    <script src="assets/js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
        $('pre').addClass('prettyprint linenums') 
        prettyPrint()})
    </script>
    <script src="assets/google-code-prettify/prettify.js"></script>

    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
